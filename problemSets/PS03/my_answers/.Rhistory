dataset_backup <- read_csv("../../../../../../Disertation/abq_CADs.csv")
rm(list=ls())
detachAllPackages <- function() {
basic.packages <- c("package:stats", "package:graphics", "package:grDevices", "package:utils", "package:datasets", "package:methods", "package:base")
package.list <- search()[ifelse(unlist(gregexpr("package:", search()))==1, TRUE, FALSE)]
package.list <- setdiff(package.list, basic.packages)
if (length(package.list)>0)  for (package in package.list) detach(package,  character.only=TRUE)
}
detachAllPackages()
# load libraries
pkgTest <- function(pkg){
new.pkg <- pkg[!(pkg %in% installed.packages()[,  "Package"])]
if (length(new.pkg))
install.packages(new.pkg,  dependencies = TRUE)
sapply(pkg,  require,  character.only = TRUE)
}
lapply(c("tidyverse", "ggplot2", "readxl", "xtable", "ggridges",
"patchwork", "showtext", "ggtext", "ggrepel",
"extrafont", "WDI", "purrr", "systemfonts"),  pkgTest)
options(scipen = 999)
# set working directory to current parent folder
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
getwd()
theme_set(theme_minimal())
showtext_auto()
all_fonts <- system_fonts()
font_table <- all_fonts %>%
dplyr::group_by(family) %>%
dplyr::slice_head(n = 1) %>%
dplyr::ungroup()
purrr::walk2(font_table$family, font_table$path, function(fam, path) {
try(font_add(fam, regular = path), silent = TRUE)
})
showtext_auto()
SVU <- theme_minimal(base_family = "Tahoma", base_size = 12) +
theme(panel.grid.minor = element_blank(),
# Bold, bigger title
plot.title = element_text(margin = margin(t = 10, b = 10),
face = "bold", size = rel(1.7)),
# Plain, slightly bigger subtitle that is grey
plot.subtitle = element_text(face = "plain", size = rel(1.3),
color = "grey40"),
# Italic, smaller, grey caption that is left-aligned
plot.caption = element_text(face = "italic", size = rel(0.7),
color = "grey70", hjust = 0),
# Bold legend titles
legend.title = element_text(face = "bold"),
# Bold, slightly larger facet titles that are centered
strip.text = element_text(face = "bold",
size = rel(1.1), hjust = 0.5),
# Bold axis titles
axis.title = element_text(face = "bold"),
# Add some space above the x-axis title
axis.title.x = element_text(margin = margin(t = 10,
b = 10), hjust = 0.5),
# Add some space to the right of the y-axis title
axis.title.y = element_text(margin = margin(r = 10,
l = 8), hjust = 0.5),
# Facet titles grey background
strip.background = element_rect(fill = "grey90", color = NA),
# Facet panel border
panel.border = element_rect(color = "grey90", fill = NA),
# color / fill for discrete scales
palette.colour.discrete = function(n)
scales::pal_viridis(option = "G")(n),
palette.fill.discrete = function(n)
scales::pal_viridis(option = "G")(n),
# color / fill for continuous scales
palette.colour.continuous = scales::pal_viridis(option = "G"),
palette.fill.continuous = scales::pal_viridis(option = "G"))
dataset_backup <- read_csv("../../../../../../Disertation/abq_CADs.csv")
dataset_backup <- read_csv("../../../../../../Dissertation/abq_CADs.csv")
data <- dataset_backup
view(data)
data$ReportDateTime[1:100]
df$ReportDateTime <- as.POSIXct(df$ReportDateTime / 1000,
origin = "1970-01-01",
tz = "America/Denver")
data$ReportDateTime <- as.POSIXct(data$ReportDateTime / 1000,
origin = "1970-01-01",
tz = "America/Denver")
data$ReportDateTime[1:100]
min(data$ReportDateTime)
max(data$ReportDateTime)
data_2 <- read_csv("nibrAbqCodes.csv")
