eta <- input %*% parameter
lambda <- exp(eta)
-sum(dpois(outcome, lambda, log = TRUE))
}
results_pois_2 <-
optim(par = c(0,1), fn = pois_likelihood,
outcome = y_pois, input = cbind(1, X),
hessian = TRUE, method = "BFGS")
results_pois$par
results_pois$par; results_pois_2$par
results_pois_2 <-
optim(par = c(0,1), fn = pois_likelihood,
outcome = y_pois, input = X,
hessian = TRUE, method = "BFGS")
results_pois$par; results_pois_2$par
results_pois_2 <-
optim(par = c(0,1), fn = pois_likelihood_2,
outcome = y_pois, input = cbind(1, X),
hessian = TRUE, method = "BFGS")
results_pois$par; results_pois_2$par
rm(list=ls())
# detach all libraries
detachAllPackages <- function() {
basic.packages <- c("package:stats", "package:graphics", "package:grDevices", "package:utils", "package:datasets", "package:methods", "package:base")
package.list <- search()[ifelse(unlist(gregexpr("package:", search()))==1, TRUE, FALSE)]
package.list <- setdiff(package.list, basic.packages)
if (length(package.list)>0)  for (package in package.list) detach(package,  character.only=TRUE)
}
detachAllPackages()
# load libraries
pkgTest <- function(pkg){
new.pkg <- pkg[!(pkg %in% installed.packages()[,  "Package"])]
if (length(new.pkg))
install.packages(new.pkg,  dependencies = TRUE)
sapply(pkg,  require,  character.only = TRUE)
}
lapply(c(tidyverse, dplyer),  pkgTest)
lapply(c("tidyverse", "dplyr"),  pkgTest)
# set wd for current folder
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
set.seed(123)
# create empirical distribution of observed data
ECDF <- ecdf(data)
# create empirical distribution of observed data
data <- rcauchy(1000, location = 0, scale = 1)
ECDF <- ecdf(data)
empiricalCDF <- ECDF(data)
# generate test statistic
D <- max(abs(empiricalCDF - pnorm(data)))
?ecdf()
ECDF
ECDF
data
ECDF_likelihood <- function(outcome, input, parameter) {
n      <- nrow(input)
k      <- ncol(input)
beta   <- parameter[1:k]
sigma2 <- parameter[k+1]^2
e      <- outcome - input%*%beta
logl   <- -.5*n*log(2*pi)-.5*n*log(sigma2) - ( (t(e) %*% e)/ (2*sigma2) )
return(-logl)
}
results_ECDF <- optim(fn=ECDF_likelihood, outcome=ECDF, input=cbind(1, data),
par=c(1,1,1), hessian=T, method="BFGS")
results_ECDF <- optim(fn=ECDF_likelihood, outcome=ECDF, input=data,
par=c(1,1,1), hessian=T, method="BFGS")
# Remove objects
rm(list=ls())
# Detach all libraries
detachAllPackages <- function() {
basic.packages <- c("package:stats", "package:graphics", "package:grDevices", "package:utils", "package:datasets", "package:methods", "package:base")
package.list <- search()[ifelse(unlist(gregexpr("package:", search()))==1, TRUE, FALSE)]
package.list <- setdiff(package.list, basic.packages)
if (length(package.list)>0)  for (package in package.list) detach(package,  character.only=TRUE)
}
detachAllPackages()
# Load libraries
pkgTest <- function(pkg){
new.pkg <- pkg[!(pkg %in% installed.packages()[,  "Package"])]
if (length(new.pkg))
install.packages(new.pkg,  dependencies = TRUE)
sapply(pkg,  require,  character.only = TRUE)
}
# Load any necessary packages
lapply(c("tidyverse", "ggplot2", "lubridate", "patchwork", "geofacet", "ggrepel", "GGally", "corrgram", "ggcorrplot", "broom", "marginaleffects"),  pkgTest)
# Set working directory for current folder
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
getwd()
# Import dataset and load library
DUB_weather <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/DataViz_2026/refs/heads/main/datasets/daily_weather_DUB.csv")
CORK_weather <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/DataViz_2026/refs/heads/main/datasets/daily_weather_CORK.csv")
# we'll only look at 2025
DUB_weather <- DUB_weather[30317:nrow(DUB_weather),]
CORK_weather <- CORK_weather[23012:nrow(CORK_weather),]
IRE_weather <- rbind(subset(DUB_weather, select=-c(g_rad)), CORK_weather)
# need to alter date variable to not be character
IRE_weather$date <- dmy(DUB_weather$date)
?dmy
ggplot(IRE_weather[IRE_weather$station=="Dublin",], aes(x = date, y = maxtp)) +
geom_line() +
scale_y_continuous(sec.axis = sec_axis(trans = ~ (. * 9/5) + 32, name = "Fahrenheit")) +
labs(x = "Date", y = "Celsius") +
theme_minimal()
temp_plot <- ggplot(IRE_weather[IRE_weather$station=="Dublin",], aes(x = date, y = maxtp)) +
geom_line() +
geom_smooth() +
scale_y_continuous(sec.axis = sec_axis(trans = ~ (. * 9/5) + 32, name = "Fahrenheit")) +
labs(x = "Date", y = "Celsius") +
theme_minimal()
sun_plot <- ggplot(IRE_weather[IRE_weather$station=="Dublin",], aes(x = date, y = sun)) +
geom_line() +
geom_smooth() +
labs(x = NULL, y = "Sunshine Duration") +
theme_minimal()
# library(patchwork)
temp_plot + sun_plot
# load EU gdp time-series data
eu_gdp <- eu_gdp
# library("geofacet")
ggplot(eu_gdp, aes(year, gdp_pc)) +
geom_line() +
facet_geo(~ name, grid = "eu_grid1", scales = "free_y") +
scale_x_continuous(labels = function(x) paste0("'", substr(x, 3, 4))) +
ylab("GDP Per Capita in Relation to EU Index (100)") +
theme_bw()
# create "Northern Europe" indicator based on UN geoscheme
eu_gdp$north_europe <- ifelse(eu_gdp$name %in% c("Denmark", "Estonia", "Finland", "Ireland", "Latvia", "Lithuania", "Norway", "Sweden", "United Kingdom"), 1, 0)
ggplot(data = eu_gdp |> filter(north_europe == 1), aes(x = year, y = gdp_pc)) +
geom_line(linewidth = 1) +
facet_wrap(vars(name), scales = "free_y", nrow = 3) +
theme_void() +
theme(strip.text = element_text(face = "bold"))
# library(ggrepel)
ggplot(north_europe_gdp, aes(x = year, y = gdp_pc, group = name, color = name)) +
geom_line(linewidth = 1.5) +
geom_text_repel(aes(label = label_first), direction = "y", nudge_x = -1, seed = 1234) +
geom_text_repel(aes(label = label_last), direction = "y", nudge_x = 1, seed = 1234) +
guides(color = "none") +
theme_void()
north_europe_gdp <- eu_gdp |> filter(north_europe == 1) |> filter(year %in% c(2004, 2015)) |>
mutate(label_first = ifelse(year == 2004, paste0(name, ": ", label_dollar(prefix = "€")(round(gdp_pc))), NA),
label_last = ifelse(year == 2015, label_dollar(prefix = "€")(round(gdp_pc, 0)), NA))
ggplot(north_europe_gdp, aes(x = year, y = gdp_pc, group = name, color = name)) +
geom_line(linewidth = 1.5) +
labs(y="GDP Per Capita", x="Year", color="Country")
north_europe_gdp <- eu_gdp |> filter(north_europe == 1) |> filter(year %in% c(2004, 2015)) |>
mutate(label_first = ifelse(year == 2004, paste0(name, ": ", label_dollar(prefix = "€")(round(gdp_pc))), NA),
label_last = ifelse(year == 2015, label_dollar(prefix = "€")(round(gdp_pc, 0)), NA))
# library("geofacet")
ggplot(eu_gdp, aes(year, gdp_pc)) +
geom_line() +
facet_geo(~ name, grid = "eu_grid1", scales = "free_y") +
scale_x_continuous(labels = function(x) paste0("'", substr(x, 3, 4))) +
ylab("GDP Per Capita in Relation to EU Index (100)") +
theme_bw()
# create "Northern Europe" indicator based on UN geoscheme
eu_gdp$north_europe <- ifelse(eu_gdp$name %in% c("Denmark", "Estonia", "Finland", "Ireland", "Latvia", "Lithuania", "Norway", "Sweden", "United Kingdom"), 1, 0)
ggplot(data = eu_gdp |> filter(north_europe == 1), aes(x = year, y = gdp_pc)) +
geom_line(linewidth = 1) +
facet_wrap(vars(name), scales = "free_y", nrow = 3) +
theme_void() +
theme(strip.text = element_text(face = "bold"))
north_europe_gdp <- eu_gdp |> filter(north_europe == 1) |> filter(year %in% c(2004, 2015)) |>
mutate(label_first = ifelse(year == 2004, paste0(name, ": ", label_dollar(prefix = "€")(round(gdp_pc))), NA),
label_last = ifelse(year == 2015, label_dollar(prefix = "€")(round(gdp_pc, 0)), NA))
library("scales")
north_europe_gdp <- eu_gdp |> filter(north_europe == 1) |> filter(year %in% c(2004, 2015)) |>
mutate(label_first = ifelse(year == 2004, paste0(name, ": ", label_dollar(prefix = "€")(round(gdp_pc))), NA),
label_last = ifelse(year == 2015, label_dollar(prefix = "€")(round(gdp_pc, 0)), NA))
ggplot(north_europe_gdp, aes(x = year, y = gdp_pc, group = name, color = name)) +
geom_line(linewidth = 1.5) +
labs(y="GDP Per Capita", x="Year", color="Country")
ggplot(data = eu_gdp |> filter(north_europe == 1), aes(x = year, y = gdp_pc)) +
geom_line(linewidth = 1) +
facet_wrap(vars(name), scales = "free_y", nrow = 3) +
theme_void() +
theme(strip.text = element_text(face = "bold"))
# library("geofacet")
ggplot(eu_gdp, aes(year, gdp_pc)) +
geom_line() +
facet_geo(~ name, grid = "eu_grid1", scales = "free_y") +
scale_x_continuous(labels = function(x) paste0("'", substr(x, 3, 4))) +
ylab("GDP Per Capita in Relation to EU Index (100)") +
theme_bw()
# library(ggrepel)
ggplot(north_europe_gdp, aes(x = year, y = gdp_pc, group = name, color = name)) +
geom_line(linewidth = 1.5) +
geom_text_repel(aes(label = label_first), direction = "y", nudge_x = -1, seed = 1234) +
geom_text_repel(aes(label = label_last), direction = "y", nudge_x = 1, seed = 1234) +
guides(color = "none") +
theme_void()
# library(GGally)
weather_cor <- IRE_weather |> select(rain, maxtp, mintp, wdsp, evap)
ggpairs(weather_cor)
# library(corrgram)
corrgram(weather_cor)
# library(ggcorrplot)
ggcorrplot(cor(weather_cor))
# run our "simple" regression w/ max temp as outcome
model_simple <- lm(maxtp ~ rain, data = IRE_weather)
# library(broom)
tidy(model_simple, conf.int = TRUE)
ggplot(IRE_weather,
aes(x = rain, y = maxtp)) +
geom_point() +
geom_smooth(method = "lm")
# run our "complex" regression w/ max temp as outcome
model_complex <- lm(maxtp ~ rain + mintp + wdsp + evap + station,
data = IRE_weather)
tidy(model_complex, conf.int = TRUE)
ggplot(tidy(model_complex, conf.int = TRUE) |> filter(term != "(Intercept)"),
aes(x = estimate, y = term)) +
geom_vline(xintercept = 0, color = "red", linetype = "dotted") +
geom_pointrange(aes(xmin = conf.low, xmax = conf.high)) +
labs(x = "Coefficient estimate", y = NULL) +
theme_minimal()
# library(marginaleffects)
# Calculate predictions across a range of windSpeed
predicted_values_easy <- predictions(model_complex,
newdata = datagrid(wdsp = seq(3, 20, 0.5))
)
ggplot(predicted_values_easy, aes(x = wdsp, y = estimate)) +
geom_ribbon(aes(ymin = conf.low, ymax = conf.high),
fill = "#BF3984", alpha = 0.5) +
geom_line(linewidth = 1, color = "#BF3984") +
labs(x = "Mean Wind Speed (knot)", y = "Predicted high temperature (C)") +
theme_minimal()
model_wild <- lm(maxtp ~ rain + mintp + wdsp + evap + station + I(wdsp^2) + wdsp:station, data = IRE_weather)
predicted_values_wild <- predictions(
model_wild,
newdata = datagrid(
wdsp = seq(3, 20, 0.5),
station = c("Cork", "Dublin")))
ggplot(predicted_values_wild, aes(x = wdsp, y = estimate)) +
geom_ribbon(aes(ymin = conf.low, ymax = conf.high, fill = station)) +
geom_line(aes(color = station),linewidth = 1) +
labs(x = "Mean Wind Speed (knot)", y = "Predicted high temperature (C)") +
theme_minimal() +
guides(fill = "none", color = "none") +
facet_wrap(vars(station), nrow = 1)
# Download data about
judicial_review <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/DataViz_2026/refs/heads/main/datasets/judicial_review_congress.csv")
### Data Manipulation
view(judicial_review)
### Data Manipulation
class(judicial_review)
### Data Manipulation
class(judicial_review[])
### Data Manipulation
class(judicial_review[,])
### Data Manipulation
class(cols(judicial_review))
glimpse(judicial_review)
jr_df <- judicial_review %>%
select(CASE, DATE, YEAR, EFFECT, S-DATE, TIME.TO.DECISION, CONGRESS,
AREA1, ATT.GEN, REVERSD, DISSENT) %>%
filter(DATE >= 1900)
jr_df <- judicial_review %>%
select(CASE, DATE, YEAR, EFFECT, S.DATE, TIME.TO.DECISION, CONGRESS,
AREA1, ATT.GEN, REVERSD, DISSENT) %>%
filter(DATE >= 1900)
jr_df <- dmy(jr_df$DATE)
view(jr_df)
jr_df <- judicial_review %>%
select(CASE, DATE, YEAR, EFFECT, S.DATE, TIME.TO.DECISION, CONGRESS,
AREA1, ATT.GEN, REVERSD, DISSENT) %>%
filter(DATE <= 1900)
jr_df <- dmy(jr_df$DATE)
view(jr_df)
jr_df <- judicial_review %>%
select(CASE, DATE, YEAR, EFFECT, S.DATE, TIME.TO.DECISION, CONGRESS,
AREA1, ATT.GEN, REVERSD, DISSENT) %>%
filter(DATE <= 1900)
view(jr_df)
jr_df <- judicial_review %>%
select(CASE, DATE, YEAR, EFFECT, S.DATE, TIME.TO.DECISION, CONGRESS,
AREA1, ATT.GEN, REVERSD, DISSENT) %>%
filter(YEAR <= 1900)
view(jr_df)
jr_df <- judicial_review %>%
select(CASE, DATE, YEAR, EFFECT, S.DATE, TIME.TO.DECISION, CONGRESS,
AREA1, ATT.GEN, REVERSD, DISSENT) %>%
filter(YEAR >= 1900)
view(jr_df)
?dmy()
jr_df <- dmy(jr_df$DATE)
view(jr_df)
view(jr_df)
jr_df <- judicial_review %>%
select(CASE, DATE, YEAR, EFFECT, S.DATE, TIME.TO.DECISION, CONGRESS,
AREA1, ATT.GEN, REVERSD, DISSENT) %>%
filter(YEAR >= 1900)
jr_df$DATE <- dmy(jr_df$DATE)
view(jr_df)
table(jr_df$AREA1)
sort(table(jr_df$AREA1))
jr_df$S.DATE <- dmy(jr_df$S.DATE)
jr_df <- judicial_review %>%
select(CASE, DATE, YEAR, EFFECT, S.DATE, TIME.TO.DECISION, CONGRESS,
AREA1, ATT.GEN, REVERSD, DISSENT) %>%
filter(YEAR >= 1900)
jr_df$DATE <- dmy(jr_df$DATE)
jr_df$S.DATE <- mdy(jr_df$S.DATE)
EVERSD, DISSENT) %>%
jr_df <- judicial_review %>%
select(CASE, DATE, YEAR, EFFECT, S.DATE, TIME.TO.DECISION, CONGRESS,
AREA1, ATT.GEN, REVERSD, DISSENT) %>%
filter(YEAR >= 1900)
jr_df$DATE <- dmy(jr_df$DATE)
jr_df$S.DATE <- mdy(jr_df$S.DATE)
jr_df <- judicial_review %>%
select(CASE, DATE, YEAR, EFFECT, S.DATE, TIME.TO.DECISION, CONGRESS,
AREA1, ATT.GEN, REVERSD, DISSENT) %>%
filter(YEAR >= 1900)
jr_df$DATE <- dmy(jr_df$DATE)
jr_df$S.DATE <- mdy(jr_df$S.DATE)
jr_df <- judicial_review %>%
select(CASE, DATE, YEAR, EFFECT, S.DATE, TIME.TO.DECISION, CONGRESS,
AREA1, ATT.GEN, REVERSD, DISSENT) %>%
filter(YEAR >= 1900)
jr_df$DATE <- dmy(jr_df$DATE)
glimpse(judicial_review)
jr_df$S.DATE <- mdy(jr_df$S.DATE)
jr_df <- judicial_review %>%
select(CASE, DATE, YEAR, EFFECT, S.DATE, TIME.TO.DECISION, CONGRESS,
AREA1, ATT.GEN, REVERSD, DISSENT) %>%
filter(YEAR >= 1900)
jr_df$DATE <- dmy(jr_df$DATE)
jr_df$S.DATE <- dmy(jr_df$S.DATE)
jr_df$ADOPT.TIME <- jr_df$DATE - jr_df$S.DATE
view(jr_df)
mean(jr_df$ADOPT.TIME)
mean(jr_df$ADOPT.TIME, drop.na = TRUE)
mean(jr_df$ADOPT.TIME, na.rm = TRUE)
mean(jr_df$ADOPT.TIME, na.rm = TRUE)/365
as.numeric(mean(jr_df$ADOPT.TIME, na.rm = TRUE))
as.numeric(mean(jr_df$ADOPT.TIME, na.rm = TRUE))/365
dissent_votes <- jr_df %>%
group_by("REVERSD") %>%
summarize(mean("DISSENT"))
dissent_votes
dissent_votes <- jr_df %>%
group_by(REVERSD) %>%
summarize(dissent_votes = n(DISSENT))
dissent_votes <- jr_df %>%
group_by(REVERSD, DISSENT) %>%
summarize(count = n())
dissent_votes
dissent_votes <- jr_df %>%
filter(REVERSD == 1) %>%
group_by(REVERSD, DISSENT) %>%
summarize(count = n())
dissent_votes
max(dissent_votes$DISSENT)
ggplot(jr_df, aes(x = DATE, y =CONGRESS)) +
geom_line()
per_year <- jr_df %>%
group_by(YEAR) %>%
ggplot(jr_df %>% count(YEAR), aes(x = DATE, y = n)) +
geom_line()
per_year <- jr_df %>% count(YEAR)
ggplot(per_year, aes(x= YEAR))
ggplot(per_year, aes(x= YEAR)) +
geom_line()
ggplot(per_year, aes(x= YEAR, y = n)) +
geom_line()
ggplot(jr_df, aes(YEAR)) +
geom_line(stat = "count")
ggplot(jr_df, aes(x = YEAR)) +
geom_line(stat = "count")
total_count <- ggplot(jr_df, aes(x = YEAR)) +
geom_line(stat = "count")
total_count <- ggplot(jr_df, aes(x = YEAR)) +
geom_line(stat = "count") +
geom_smooth()
total_count <- ggplot(jr_df, aes(x = YEAR)) +
geom_line(stat = "count") +
geom_smooth(stat = "count")
total_count <- ggplot(jr_df, aes(x = YEAR)) +
geom_line(stat = "count") +
geom_smooth(stat = "count", se = FALSE)
total_count
total_count <- ggplot(jr_df, aes(x = YEAR)) +
geom_line(stat = "count") +
geom_smooth(stat = "count")
total_count
total_count <- ggplot(jr_df, aes(x = YEAR)) +
geom_line(stat = "count") +
geom_smooth()
total_count
total_count <- ggplot(jr_df, aes(x = YEAR)) +
geom_line(stat = "count") +
geom_smooth(stat = "count")
total_count
ggplot(per_year, aes(x = YEAR, y = n)) +
geom_line() +
geom_smooth(se = FALSE)
total_count <- ggplot(per_year, aes(x = YEAR, y = n)) +
geom_line() +
geom_smooth(se = FALSE)
view(per_year)
ggplot(jr_df, aes(x = YEAR, y = factor(EFFECT))) +
geom_line(stat = "count")
ggplot(jr_df, aes(x = YEAR, y = factor(EFFECT))) +
geom_line()
jr_df <- jr_df %>%
mutate(DUMMY.EFFECT = if_else(EFFECT == "upheld", 0, 1))
ggplot(jr_df, aes(x = YEAR, y = factor(DUMMY.EFFECT))) +
geom_line()
ggplot(jr_df, aes(x = YEAR, y = DUMMY.EFFECT)) +
geom_line()
ggplot(jr_df %>% group_by(YEAR), aes(x = YEAR, y = DUMMY.EFFECT)) +
geom_line()
ggplot(jr_df %>% group_by(YEAR), aes(x = YEAR, y = DUMMY.EFFECT/n)) +
geom_line()
ggplot(jr_df %>% group_by(YEAR), aes(x = YEAR, y = DUMMY.EFFECT/len(jr_df))) +
geom_line()
ggplot(jr_df %>% group_by(YEAR), aes(x = YEAR, y = count(CASE), fill = DUMMY.EFFECT)) +
geom_line()
ggplot(jr_df %>% group_by(YEAR), aes(x = YEAR, y = nrow(jr_df), fill = DUMMY.EFFECT)) +
geom_line()
per_year <- jr_df %>% group_by(YEAR)
total_count <- ggplot(per_year, aes(x = YEAR, y = n)) +
geom_line() +
geom_smooth(se = FALSE)
jr_df <- jr_df %>%
mutate(DUMMY.EFFECT = if_else(EFFECT == "upheld", 0, 1))
ggplot(jr_df %>% group_by(YEAR), aes(x = YEAR, y = nrow(), fill = DUMMY.EFFECT)) +
geom_line()
ggplot(per_year, aes(x = YEAR, y = "count", fill = DUMMY.EFFECT)) +
geom_line()
ggplot(per_year, aes(x = YEAR, y = count(per_year), fill = DUMMY.EFFECT)) +
geom_line()
ggplot(per_year, aes(x = YEAR, y = factor(count(per_year)), fill = DUMMY.EFFECT)) +
geom_line()
jr_df %>%
summarize(
avg = mean(TIME.TO.DECISION, na.rm = TRUE)
)
as.numeric(mean(jr_df$ADOPT.TIME, na.rm = TRUE))/12
jr_df %>%
summarize(
avg = mean(TIME.TO.DECISION, na.rm = TRUE)
)
as.numeric(mean(jr_df$ADOPT.TIME, na.rm = TRUE))/31
jr_df %>%
summarize(
avg = mean(TIME.TO.DECISION, na.rm = TRUE)
)
ggplot(jr_df %>% group_by(YEAR), aes(x = YEAR, y = DUMMY.EFFECT)) +
geom_line()
ggplot(jr_df %>% group_by(YEAR) %>%
summarize(prop_struck_down), aes(x = YEAR, y = prop_struck_down)) +
geom_line()
ggplot(jr_df %>% group_by(YEAR) %>%
summarize(prop_struck_down = mean(DUMMY.EFFECT, na.rm = TRUE)), aes(x = YEAR, y = prop_struck_down)) +
geom_line()
ggplot(jr_df %>% group_by(YEAR) %>%
summarize(prop_struck_down = mean(DUMMY.EFFECT, na.rm = TRUE)), aes(x = YEAR, y = prop_struck_down)) +
geom_line() +
geom_smooth()
struck_down <- ggplot(jr_df %>% group_by(YEAR) %>%
summarize(prop_struck_down = mean(DUMMY.EFFECT, na.rm = TRUE)), aes(x = YEAR, y = prop_struck_down)) +
geom_line() +
geom_smooth()
per_year + struck_down
library(patchwork)
per_year + struck_down
total_count + struck_down
per_year <- jr_df %>% count(YEAR)
total_count <- ggplot(per_year, aes(x = YEAR, y = n)) +
geom_line() +
geom_smooth(se = FALSE)
struck_down <- ggplot(jr_df %>% group_by(YEAR) %>%
summarize(prop_struck_down = mean(DUMMY.EFFECT, na.rm = TRUE)), aes(x = YEAR, y = prop_struck_down)) +
geom_line() +
geom_smooth()
total_count + struck_down
total_count <- ggplot(per_year, aes(x = YEAR, y = n)) +
geom_line() +
geom_smooth()
total_count + struck_down
ggplot(per_year, aes(x = YEAR, y = n)) +
geom_line() +
facet_wrap(AREA1)
area_time <- jr_df %>% count(AREA1, YEAR)
ggplot(area_time, aes(x = YEAR, y = n)) +
geom_line() +
facet_wrap(AREA1)
ggplot(area_time, aes(x = YEAR, y = n)) +
geom_line() +
facet_wrap(vars(AREA1))
ggplot(area_time, aes(x = YEAR, y = n)) +
geom_line() +
facet_wrap("AREA1")
ggplot(area_time, aes(x = YEAR, y = n)) +
geom_line() +
facet_wrap(~AREA1)
theme_set(theme.minimal())
theme_set(theme.minimal())
theme_set(theme_minimal())
ggplot(area_time, aes(x = YEAR, y = n)) +
geom_line() +
facet_wrap(~AREA1)
jr_numeric <- jr_df %>%
select(TIME.TO.DECISION, CONGRESS, DISSENT)
ggpairs(jr_numeric)
corr_mat <- cor(jr_numeric)
corrgram(corr_mat)
ggcorrplot(corr_mat)
corrgram(corr_mat)
ggcorrplot(corr_mat)
