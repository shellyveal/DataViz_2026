### In class demo
#################
view(AB_ZIM)
ggplot(data = AB_ZIM, aes(age)) +
geom_histogram(binwidth = 1)
# load data
AB_ZIM <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/DataViz_2026/refs/heads/main/datasets/AB_ZIM.csv")
# reduce data
AB_ZIM <- AB_ZIM |> select(Q1, Q101, Q102, Q94A, Q97, Q98)
# organize data
AB_ZIM <- AB_ZIM |>
# rename some columns
rename(age = `Q1`,
gender = `Q101`,
interview_lang = `Q102`,
employed = `Q94A`,
religion = `Q97`,
party_vote = `Q98`)
ggplot(data = AB_ZIM, aes(age)) +
geom_histogram(binwidth = 1)
ggplot(data = AB_ZIM, aes(age)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100))
ggplot(data = AB_ZIM, aes(x=age)) +
geom_histogram() +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender))
ggplot(data = AB_ZIM, aes(x=age, fill=gender)) +
geom_histogram() +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender)) +
coord_flip()
ggplot(data = AB_ZIM, aes(x=age, fill=gender)) +
geom_histogram() +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Gender")
ggplot(data = AB_ZIM, aes(x=age, fill=gender)) +
geom_histogram() +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Gender") +
theme_bw()
ggplot(data = AB_ZIM, aes(x=age)) +
geom_histogram(binwidth = 1) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender))
ggplot(data = AB_ZIM, aes(x=age)) +
geom_histogram(binwidth = 5) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender))
ggplot(data = AB_ZIM, aes(x=age)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender))
ggplot(data = AB_ZIM, aes(x=age, fill=gender)) +
geom_histogram() +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender)) +
coord_flip()
ggplot(data = AB_ZIM, aes(x=age, fill=gender)) +
geom_histogram(binwidth = 3) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender)) +
coord_flip()
ggplot(data = AB_ZIM, aes(x=age, fill=gender)) +
geom_histogram(binwidth = 5) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender)) +
coord_flip()
ggplot(data = AB_ZIM, aes(x=age, fill=gender)) +
geom_histogram() +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Gender")
ggplot(data = AB_ZIM, aes(x=age, fill=gender)) +
geom_histogram() +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Gender") +
theme_bw()
pdf("AB_ZIM_hist1.pdf")
ggplot(data = AB_ZIM, aes(age)) +
geom_histogram(binwidth = 5)
dev.off()
pdf("AB_ZIM_hist2.pdf")
ggplot(data = AB_ZIM, aes(age)) +
geom_histogram(binwidth = 5) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100))
dev.off()
pdf("AB_ZIM_hist3.pdf")
ggplot(data = AB_ZIM, aes(x=age)) +
geom_histogram(binwidth = 5) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender))
dev.off()
pdf("AB_ZIM_hist4.pdf")
ggplot(data = AB_ZIM, aes(x=age, fill=gender)) +
geom_histogram(binwidth = 5) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender)) +
coord_flip()
dev.off()
pdf("AB_ZIM_hist5.pdf")
ggplot(data = AB_ZIM, aes(x=age, fill=gender)) +
geom_histogram(binwidth = 5) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Gender")
dev.off()
pdf("AB_ZIM_hist6.pdf")
ggplot(data = AB_ZIM, aes(x=age, fill=gender)) +
geom_histogram(binwidth = 5) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Gender") +
theme_bw()
dev.off()
pdf("AB_ZIM_hist1.pdf")
ggplot(data = AB_ZIM, aes(age)) +
geom_histogram(binwidth = 2)
dev.off()
pdf("AB_ZIM_hist2.pdf")
ggplot(data = AB_ZIM, aes(age)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100))
dev.off()
pdf("AB_ZIM_hist3.pdf")
ggplot(data = AB_ZIM, aes(x=age)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender))
dev.off()
pdf("AB_ZIM_hist4.pdf")
ggplot(data = AB_ZIM, aes(x=age, fill=gender)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender)) +
coord_flip()
dev.off()
pdf("AB_ZIM_hist5.pdf")
ggplot(data = AB_ZIM, aes(x=age, fill=gender)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Gender")
dev.off()
pdf("AB_ZIM_hist6.pdf")
ggplot(data = AB_ZIM, aes(x=age, fill=gender)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Gender") +
theme_bw()
dev.off()
ggplot(data = AB_ZIM, aes(x=age, fill=gender)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender)) +
coord_flip() +
labs(x="Age", y="Count", fill="Gender") +
theme_bw()
pdf("AB_ZIM_hist62.pdf")
ggplot(data = AB_ZIM, aes(x=age, fill=gender)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender)) +
coord_flip() +
labs(x="Age", y="Count", fill="Gender") +
theme_bw()
dev.off()
# download data from AfroBarometer (Malawi R10): https://www.afrobarometer.org/survey-resource/malawi-round-10-data-2024/
# here is the codebook: https://www.afrobarometer.org/survey-resource/malawi-round-10-codebook-2024/
AB_MALAWI <- read.csv("MLW.csv")
View(AB_MALAWI)
AB_MALAWI <- AB_MALAWI |> select(URBRUR, Q1, Q101, Q102, Q94A, Q97, Q98, Q12B, Q12C)
View(AB_MALAWI)
# rename your variables to informative/easy names
names(AB_MALAWI) <- c("urban", "age", "gender", "language", "employed", "religion",
"voted", "contacted_po", "contacted_tl")
View(AB_MALAWI)
# create a couple of visualizations that shed light on our RQ
ggplot(AB_MALAWI, aes(x = age,
y = contacted_tl)) +
geom_point()
levels(AB_MALAWI[contacted_tl])
levels(AB_MALAWI$contacted_tl)
unique(AB_MALAWI$contacted_tl)
names(AB_MALAWI$contacted_tl)
unique(AB_MALAWI$contacted_tl)
unique(AB_MALAWI$contacted_po)
class(AB_MALAWI)
class(AB_MALAWI$age)
# create a couple of visualizations that shed light on our RQ
AB_MALAWI$age <- as.numeric(AB_MALAWI$age)
class(AB_MALAWI$age)
view(AB_MALAWI$age)
AB_MALAWI <- AB_MALAWI %>%
mutate(contacted_po = recode(contacted_po,
"Don't Know" = 0,
"Refused to answer" = 0,
"Never" = 1,
"Only once" = 2,
"A few times" = 3,
"Often" = 4))
view(AB_MALAWI)
AB_MALAWI <- AB_MALAWI %>%
mutate(contacted_tl = recode(contacted_tl,
"Don't Know" = 0,
"Refused to answer" = 0,
"Never" = 1,
"Only once" = 2,
"A few times" = 3,
"Often" = 4))
ggplot(AB_MALAWI, aes(x = age,
y = contacted_tl)) +
geom_point()
# create a couple of visualizations that shed light on our RQ
AB_MALAWI$age <- as.integer(AB_MALAWI$age)
ggplot(AB_MALAWI, aes(x = age,
y = contacted_tl)) +
geom_point()
ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_tl)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(contacted_tl)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_po)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(contacted_po)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_po)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_po)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
facet_wrap(vars(contacted_po)) +
ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_po)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(contacted_po)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_po)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(contacted_po)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
ggplot(data = AB_MALAWI, aes(x=contacted_po, fill=gender)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_tl)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(contacted_tl)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
# download data from AfroBarometer (Malawi R10): https://www.afrobarometer.org/survey-resource/malawi-round-10-data-2024/
# here is the codebook: https://www.afrobarometer.org/survey-resource/malawi-round-10-codebook-2024/
AB_MALAWI <- read.csv("MLW.csv")
AB_MALAWI <- AB_MALAWI |> select(URBRUR, Q1, Q101, Q102, Q94A, Q97, Q98, Q12B, Q12C)
# rename your variables to informative/easy names
names(AB_MALAWI) <- c("urban", "age", "gender", "language", "employed", "religion",
"voted", "contacted_po", "contacted_tl")
# create a couple of visualizations that shed light on our RQ
AB_MALAWI$age <- as.integer(AB_MALAWI$age)
ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_tl)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(contacted_tl)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_tl)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(contacted_tl)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_tl)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_tl)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(contacted_tl)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_tl)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_tl)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(contacted_tl)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_tl)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_tl)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_tl)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_po)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_tl)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_po)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_tl)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_tl)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_po)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_po)) +
geom_histogram(position = "dodge", binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
AB_MALAWI_long <- AB_MALAWI %>%
pivot_longer(cols = c(contacted_tl, contacted_po),
names_to = "contact_type",
values_to = "frequency")
# Filter to keep only "often"
AB_MALAWI_long <- AB_MALAWI_long %>%
filter(frequency == "often")
ggplot(AB_MALAWI_long, aes(x = age, fill = contact_type)) +
geom_histogram(binwidth = 2, position = "dodge") +
scale_y_continuous(breaks = seq(0, 100, by = 20)) +
labs(x = "\nAge",
y = "\nCount",
fill = "Contacted") +
theme_bw()
AB_MALAWI_long
AB_MALAWI_long <- AB_MALAWI %>%
pivot_longer(cols = c(contacted_tl, contacted_po),
names_to = "contact_type",
values_to = "frequency")
AB_MALAWI_long
# Filter to keep only "often"
AB_MALAWI_long <- AB_MALAWI_long %>%
filter(frequency == "Often")
AB_MALAWI_long
# Now plot
ggplot(AB_MALAWI_long, aes(x = age, fill = contact_type)) +
geom_histogram(binwidth = 2, position = "dodge") +
scale_y_continuous(breaks = seq(0, 100, by = 20)) +
labs(x = "\nAge",
y = "\nCount",
fill = "Contacted") +
theme_bw()
ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_po)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_tl)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
tl_contact_age <- ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_tl)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
po_contact_age <- ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_po)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
labs(x="\nAge", y="\nCount", fill="Contact") +
theme_bw()
tl_contact_age + po_contact_age
install.packages("patchwork")
library(patchwork)
tl_contact_age + po_contact_age
# Now plot
contact_type_plot <- ggplot(AB_MALAWI_long, aes(x = age, fill = contact_type)) +
geom_histogram(binwidth = 2, position = "dodge") +
scale_y_continuous(breaks = seq(0, 100, by = 20)) +
labs(x = "\nAge",
y = "\nCount",
fill = "Contacted") +
theme_bw()
contact_type_plot
# Now plot
contact_type_plot <- ggplot(AB_MALAWI_long, aes(x = age, fill = contact_type)) +
geom_histogram(binwidth = 4, position = "dodge") +
scale_y_continuous(breaks = seq(0, 100, by = 20)) +
labs(x = "\nAge",
y = "\nCount",
fill = "Contacted") +
theme_bw()
contact_type_plot
# Now plot
contact_type_plot <- ggplot(AB_MALAWI_long, aes(x = age, fill = contact_type)) +
geom_histogram(binwidth = 4, position = "dodge") +
scale_y_continuous(breaks = seq(0, 100, by = 20)) +
labs(x = "\nAge",
y = "\nCount",
fill = "Contacted",
title = "Frequent Contact Type by Age") +
theme_bw()
contact_type_plot
# Now plot
contact_type_plot <- ggplot(AB_MALAWI_long, aes(x = age, fill = contact_type)) +
geom_histogram(binwidth = 4, position = "dodge") +
scale_y_continuous(breaks = seq(0, 100, by = 20)) +
labs(x = "\nAge",
y = "\nCount",
fill = "Contacted",
title = "Frequent Contact Type by Age") +
scale_color_discrete(labels = c("Contacted Party Official",
"Contacted Traditional Leader")) +
theme_bw()
contact_type_plot
# Now plot
contact_type_plot <- ggplot(AB_MALAWI_long, aes(x = age, fill = contact_type)) +
geom_histogram(binwidth = 4, position = "dodge") +
scale_y_continuous(breaks = seq(0, 100, by = 20)) +
labs(x = "\nAge",
y = "\nCount",
fill = "Contacted",
title = "Frequent Contact Type by Age") +
scale_fill_discrete(labels = c("Contacted Party Official",
"Contacted Traditional Leader")) +
theme_bw()
contact_type_plot
tl_contact_age + po_contact_age
contact_type_plot
tl_contact_age <- ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_tl)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
labs(x="\nAge", y="\nCount", fill="Contact", title = "Traditional Leader Contact") +
theme_bw()
po_contact_age <- ggplot(data = AB_MALAWI, aes(x=age, fill=contacted_po)) +
geom_histogram(binwidth = 2) +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
labs(x="\nAge", y="\nCount", fill="Contact", title = "Party Official Contact") +
theme_bw()
tl_contact_age + po_contact_age
